<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª | Ù…Ø­Ù„ Ø§Ù„Ø¥Ø®ÙˆØ© Ù…Ø²ÙˆØ§Ø±</title>

<style>
body{
    margin:0;
    font-family: Tahoma, Arial;
    background:#f7f7f7;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
.header{
    background:linear-gradient(135deg,#ff7a00,#ffd500);
    padding:25px;
    text-align:center;
    color:white;
}
.header h1{
    margin:0;
    font-size:28px;
}

/* Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
.container{
    max-width:1000px;
    margin:30px auto;
    background:white;
    padding:25px;
    border-radius:15px;
    box-shadow:0 5px 20px rgba(0,0,0,0.1);
}

/* Ø§Ù„Ø¬Ø¯ÙˆÙ„ */
table{
    width:100%;
    border-collapse:collapse;
}

th, td{
    padding:14px;
    border-bottom:1px solid #eee;
    text-align:center;
}

th{
    background:#fff3cd;
    font-size:16px;
}

td img{
    width:65px;
    height:65px;
    object-fit:cover;
    border-radius:10px;
    margin-bottom:6px;
}

/* Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ */
.status{
    display:inline-block;
    padding:5px 12px;
    border-radius:8px;
    font-size:13px;
    font-weight:bold;
}

.available{
    background:#d4edda;
    color:#155724;
}

.unavailable{
    background:#f8d7da;
    color:#721c24;
}

/* Ø²Ø± Ø§Ù„Ø­Ø°Ù */
.remove-btn{
    color:white;
    background:red;
    padding:6px 10px;
    border-radius:6px;
    text-decoration:none;
    font-size:14px;
}

.remove-btn:hover{
    background:darkred;
}

/* Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ */
.total{
    text-align:left;
    font-size:20px;
    font-weight:bold;
    color:green;
    margin-top:25px;
}

/* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
.actions{
    display:flex;
    justify-content:space-between;
    margin-top:30px;
    flex-wrap:wrap;
    gap:15px;
}

.btn{
    padding:12px 25px;
    border-radius:10px;
    text-decoration:none;
    color:white;
    font-weight:bold;
    font-size:15px;
    transition:0.3s;
}

.btn-back{
    background:#ff7a00;
}

.btn-order{
    background:#2e7d32;
}

.btn-back:hover{background:#e66a00;}
.btn-order:hover{background:#256428;}

/* Ø³Ù„Ø© ÙØ§Ø±ØºØ© */
.empty{
    text-align:center;
    font-size:18px;
    padding:50px;
}

.empty a{
    display:inline-block;
    margin-top:20px;
}

/* Responsive */
@media(max-width:768px){
    table, th, td{
        font-size:13px;
    }
    td img{
        width:50px;
        height:50px;
    }
}
</style>
</head>

<body>

<div class="header">
    <h1>ğŸ›’ Ø³Ù„Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª</h1>
</div>

<div class="container">
{% if messages %}
  <div>
    {% for message in messages %}
      <p>{{ message }}</p>
    {% endfor %}
  </div>
{% endif %}

{% if cart %}
<table>
    <tr>
        <th>Ø§Ù„Ù…Ù†ØªÙˆØ¬</th>
        <th>Ø§Ù„Ø³Ø¹Ø±</th>
        <th>Ø§Ù„ÙƒÙ…ÙŠØ©</th>
        <th>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</th>
        <th>Ø§Ù„Ø­Ø§Ù„Ø©</th>
        <th>Ø­Ø°Ù</th>
    </tr>

    {% for item in cart %}
    <tr>
        <td>
            {% if item.product.image %}
                <img src="{{ item.product.image.url }}" alt="{{ item.product.name }}">
            {% else %}
                <img src="/static/images/default.png" alt="Ø¨Ø¯ÙˆÙ† ØµÙˆØ±Ø©">
            {% endif %}
            <br>
            <b>{{ item.product.name }}</b>
        </td>

        <td>{{ item.price }} Ø¯Ø¬</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.total_price }} Ø¯Ø¬</td>

        <!-- âœ… Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ù†ØªØ¬ -->
        <td>
            {% if item.product.available %}
                <span class="status available">Ù…ØªÙˆÙØ±</span>
            {% else %}
                <span class="status unavailable">ØºÙŠØ± Ù…ØªÙˆÙØ±</span>
            {% endif %}
        </td>

        <td>
            <a class="remove-btn" href="{% url 'cart_remove' item.product.id %}">
                âŒ Ø­Ø°Ù
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

<div class="total">
    ğŸ’° Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹ Ø§Ù„ÙƒÙ„ÙŠ: {{ cart.get_total_price }} Ø¯Ø¬
</div>

<div class="actions">
    <a href="{% url 'product_list' %}" class="btn btn-back">
        â¬… Ù…ÙˆØ§ØµÙ„Ø© Ø§Ù„ØªØ³ÙˆÙ‚
    </a>

    <a href="{% url 'order_create' %}" class="btn btn-order">
        âœ… Ø¥ØªÙ…Ø§Ù… Ø§Ù„Ø·Ù„Ø¨
    </a>
</div>

{% else %}
<div class="empty">
    ğŸ›’ Ø§Ù„Ø³Ù„Ø© ÙØ§Ø±ØºØ© <br>
    Ø§Ø¨Ø¯Ø£ Ø¨Ø¥Ø¶Ø§ÙØ© Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© âœ¨

    <a href="{% url 'product_list' %}" class="btn btn-back">
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ù…Ù†ØªÙˆØ¬Ø§Øª
    </a>
</div>
{% endif %}

</div>

</body>
</html>